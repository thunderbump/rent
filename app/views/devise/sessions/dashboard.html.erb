<div class="group_area">

<h1>Overview</h1>
<table>
  <tr class="table_header">
    <th>User</th>
    <th>Amount Owed</th>
  </tr>
  <% @users.each do |user| %>
    <tr class="<%= cycle("odd_row", "even_row") %>">
      <td><%= link_to user, user %></td>
      <td class="numeric_field"><%= number_to_currency(current_user.current_bill_with(user)) %></td>
    </tr>
  <% end %>
</table>

</div>
<div class="group_area">

<h1>Payments Pending</h1>
<% if @payments_pending.size > 0 %>
  <table>
    <tr class="table_header">
      <th>Source</th>
      <th>Destination</th>
      <th>Amount</th>
      <th> </th>
    </tr>
    <% @payments_pending.each do |payment| %>
      <tr class="<%= cycle("odd_row", "even_row") %>">
        <td><%= payment.source %></td>
        <td><%= payment.destination %></td>
        <td class="numeric_field"><%= payment.amount %></td>
        <td><%= link_to "Accept", payment_path(payment, :payment => {:accepted => true}), :method => :put, :confirm => "Accept payment?", :class => "group_links" %></td>
      </tr>
    <% end %>
  </table>
<% else %>
  No payments pending
<% end %>
</div>
<div class="group_area">

<h1>History</h1>
<table>
  <%= render :partial => "/common/line_item_header" %>
  <% @history.each do |element| %>
    <%= render :partial => "/common/line_item_tr", locals: { element: element, user: current_user, tr_class:cycle("odd_row", "even_row")} %>
  <% end %>
</table>

</div>
